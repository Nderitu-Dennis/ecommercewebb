{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/admin.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/icon\";\nimport * as i11 from \"@angular/material/divider\";\nfunction DashboardComponent_mat_card_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 6)(1, \"div\", 7);\n    i0.ɵɵelement(2, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"h2\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 11);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"mat-divider\");\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"div\", 13)(11, \"span\", 14);\n    i0.ɵɵtext(12, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 15);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 13)(16, \"span\", 14);\n    i0.ɵɵtext(17, \"Category:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 15);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(20, \"mat-divider\");\n    i0.ɵɵelementStart(21, \"div\", 16)(22, \"button\", 17);\n    i0.ɵɵtext(23, \"FAQ\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 18);\n    i0.ɵɵtext(25, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_mat_card_9_Template_button_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteProduct(product_r1.id));\n    });\n    i0.ɵɵtext(27, \" Delete \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", product_r1.processedImg, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.description);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" Ksh \", product_r1.price, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(product_r1.categoryName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", \"/admin/faq/\" + product_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"/admin/product/\" + product_r1.id);\n  }\n}\nexport class DashboardComponent {\n  constructor(adminService, fb, snackBar, router) {\n    this.adminService = adminService;\n    this.fb = fb;\n    this.snackBar = snackBar;\n    this.router = router;\n    this.products = [];\n  }\n  ngOnInit() {\n    this.getAllProducts();\n    this.searchProductForm = this.fb.group({\n      title: [null, [Validators.required]]\n    });\n  }\n  getAllProducts() {\n    this.products = [];\n    this.adminService.getAllProducts().subscribe(res => {\n      res.forEach(element => {\n        element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n        this.products.push(element);\n      });\n    }, error => {\n      console.error('Error fetching products:', error);\n      // Handle error, display error message, etc.\n    });\n  }\n\n  submitForm() {\n    this.products = [];\n    const title = this.searchProductForm.get('title').value;\n    this.adminService.getAllProductsByName(title).subscribe(res => {\n      res.forEach(element => {\n        element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n        this.products.push(element);\n      });\n      console.log(this.products);\n    }, error => {\n      console.error('Error searching products:', error);\n      // Handle error, display error message, etc.\n    });\n  }\n\n  deleteProduct(productId) {\n    this.adminService.deleteProduct(productId).subscribe(res => {\n      if (res.status === 200) {\n        this.snackBar.open('Product deleted successfully!', 'Close', {\n          duration: 5000\n        });\n        // Redirect to the product page\n        this.router.navigateByUrl('/admin/product');\n      } else {\n        this.snackBar.open('Failed to delete product', 'ERROR', {\n          duration: 5000,\n          panelClass: 'error-snackbar'\n        });\n      }\n    }, error => {\n      console.error('Error deleting product:', error);\n      this.snackBar.open('An error occurred while deleting the product', 'ERROR', {\n        duration: 5000,\n        panelClass: 'error-snackbar'\n      });\n    });\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.AdminService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 10,\n    vars: 3,\n    consts: [[1, \"search-form\", 3, \"formGroup\", \"submit\"], [\"appearance\", \"outline\", 1, \"search-input\"], [\"matInput\", \"\", \"formControlName\", \"title\"], [\"mat-button\", \"\", \"matSuffix\", \"\", \"color\", \"primary\", 3, \"disabled\"], [1, \"product-list\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-card\"], [1, \"product-image\"], [\"alt\", \"product-image\", 3, \"src\"], [1, \"product-details\"], [1, \"product-name\"], [1, \"product-description\"], [1, \"product-info\"], [1, \"info-row\"], [1, \"info-label\"], [1, \"info-value\"], [1, \"actions\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"update-button\", 3, \"routerLink\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 1, \"update-button\", 3, \"routerLink\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 1, \"delete-button\", 3, \"click\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"submit\", function DashboardComponent_Template_form_submit_0_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(1, \"mat-form-field\", 1)(2, \"mat-label\");\n        i0.ɵɵtext(3, \"Type a keyword to search \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"input\", 2);\n        i0.ɵɵelementStart(5, \"button\", 3)(6, \"mat-icon\");\n        i0.ɵɵtext(7, \"search\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵtemplate(9, DashboardComponent_mat_card_9_Template, 28, 7, \"mat-card\", 5);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.searchProductForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", ctx.searchProductForm.invalid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      }\n    },\n    dependencies: [i5.NgForOf, i4.RouterLink, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i6.MatButton, i7.MatCard, i8.MatFormField, i8.MatLabel, i8.MatSuffix, i9.MatInput, i10.MatIcon, i11.MatDivider],\n    styles: [\".search-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin-top: 20px;\\n}\\n.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%] {\\n  width: 300px;\\n  margin-right: 15px;\\n}\\n.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  padding-right: 40px;\\n  \\n}\\n.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 8px;\\n  \\n  top: 50%;\\n  transform: translateY(-50%); \\n}\\n\\n.product-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  background-color: #f8f8f8;\\n  min-height: 70vh;\\n  padding: 20px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%] {\\n  width: calc(33.33% - 20px); \\n  margin-bottom: 20px;\\n  border-radius: 10px;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2); \\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%] {\\n  height: 200px;\\n  border-radius: 10px 10px 0 0;\\n  overflow: hidden;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-weight: bold;\\n  color: #108ee9;\\n  margin-bottom: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin-bottom: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%] {\\n  flex: 0 0 50%;\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 8px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%] {\\n  font-weight: 10px;\\n  margin-right: 5px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-top: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.empty-cart[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  height: 300px;\\n  \\n}\\n.empty-cart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  color: #616161; \\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtBQUNKO0FBQ0k7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7QUFDUjtBQUNRO0VBQ0ksbUJBQUE7RUFDQSw0Q0FBQTtBQUNaO0FBRVE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSx1Q0FBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQSxFQUFBLGdCQUFBO0FBQVo7O0FBTUE7RUFDSSxhQUFBO0VBQ0EsZUFBQTtFQUNBLDhCQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7QUFISjtBQUtJO0VBQ0ksMEJBQUEsRUFBQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQSxFQUFBLGdCQUFBO0FBSFI7QUFLUTtFQUNJLGFBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0FBSFo7QUFLWTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUFIaEI7QUFRUTtFQUNJLGFBQUE7QUFOWjtBQVFZO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FBTmhCO0FBV1k7RUFDSSxtQkFBQTtBQVRoQjtBQVlZO0VBQ0ksYUFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQVZoQjtBQVlnQjtFQUNJLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQVZwQjtBQVlvQjtFQUNJLGlCQUFBO0VBQ0EsaUJBQUE7QUFWeEI7QUFhb0I7RUFDSSxpQkFBQTtBQVh4QjtBQWtCWTtFQUNJLGFBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0FBaEJoQjtBQWtCZ0I7RUFDSSxrQkFBQTtBQWhCcEI7O0FBdUJBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7RUFDQSwrQkFBQTtBQXBCSjtBQXNCSTtFQUNJLGVBQUE7RUFDQSxjQUFBLEVBQUEsK0JBQUE7RUFDQSxnQkFBQTtBQXBCUiIsInNvdXJjZXNDb250ZW50IjpbIi5zZWFyY2gtZm9ybXtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcblxuICAgIC5zZWFyY2gtaW5wdXQge1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTVweDtcblxuICAgICAgICBpbnB1dCB7XG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA0MHB4O1xuICAgICAgICAgICAgLyphZGp1c3QgcGFkZGluZyB0byBjcmVhdGUgc3BhY2UgZnJvIGJ1dHRvbiovXG4gICAgICAgIH1cblxuICAgICAgICBidXR0b257XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICByaWdodDogOHB4O1xuICAgICAgICAgICAgLyphZGp1c3QgIGJ1dHRvbidzIHBvc2l0aW9uIGFzIGRlc2lyZWQqL1xuICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IC8qcmVzZWFyY2ggdGhpcyovXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLnByb2R1Y3QtbGlzdHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcbiAgICBtaW4taGVpZ2h0Ojcwdmg7XG4gICAgcGFkZGluZzogMjBweDsgXG5cbiAgICAucHJvZHVjdC1jYXJke1xuICAgICAgICB3aWR0aDogY2FsYygzMy4zMyUgLSAyMHB4KTsgLypyZXNlYXJjaCB0aGlzKi9cbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKTsgLypyZXNlYXJjaCB0aGlzKi9cblxuICAgICAgICAucHJvZHVjdC1pbWFnZXtcbiAgICAgICAgICAgIGhlaWdodDogMjAwcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwO1xuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAgICAgICAgICAgaW1nIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLnByb2R1Y3QtZGV0YWlsc3tcbiAgICAgICAgICAgIHBhZGRpbmc6MjBweDtcblxuICAgICAgICAgICAgLnByb2R1Y3QtbmFtZXtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6ICAyMHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjMTA4ZWU5O1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAucHJvZHVjdC1kZXNjcmlwdGlvbntcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAucHJvZHVjdC1pbmZve1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cbiAgICAgICAgICAgICAgICAuaW5mby1yb3d7XG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDAgMCA1MCU7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcblxuICAgICAgICAgICAgICAgICAgICAuaW5mby1sYWJlbCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogMTBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLmluZm8tdmFsdWV7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmFjdGlvbnN7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG5cbiAgICAgICAgICAgICAgICAudXBkYXRlLWJ1dHRvbntcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gICAgICBcbn1cblxuLmVtcHR5LWNhcnR7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAzMDBweDtcbiAgICAvKiBjYW4gYWRqdXN0IHRvIGZpdCBteSBkZXNpZ24qL1xuXG4gICAgc3BhbntcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBjb2xvcjogIzYxNjE2MTsgIC8qIGNhbiBhZGp1c3QgdG8gZml0IG15IGRlc2lnbiovXG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgIFxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","DashboardComponent","constructor","adminService","fb","snackBar","router","ngOnInit","getAllProducts","searchProductForm","group","title","required","products","subscribe","res","forEach","element","processedImg","byteImg","push","error","console","submitForm","get","value","getAllProductsByName","log","deleteProduct","productId","status","open","duration","navigateByUrl","panelClass","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/denniskali/Desktop/ecommercewebb/src/app/admin/components/dashboard/dashboard.component.ts","/home/denniskali/Desktop/ecommercewebb/src/app/admin/components/dashboard/dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AdminService } from '../../service/admin.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  products: any[] = [];\n  searchProductForm!: FormGroup;\n\n  constructor(\n    private adminService: AdminService, \n    private fb: FormBuilder,\n    private snackBar: MatSnackBar,\n    private router:Router\n  ){}\n\n  ngOnInit(): void {\n    this.getAllProducts();\n    this.searchProductForm = this.fb.group({\n      title: [null, [Validators.required]]\n    });\n  }\n\n  getAllProducts(): void {\n    this.products = [];\n    this.adminService.getAllProducts().subscribe(\n      (res) => {\n        res.forEach(element => {\n          element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n          this.products.push(element);\n        });\n      },\n      (error) => {\n        console.error('Error fetching products:', error);\n        // Handle error, display error message, etc.\n      }\n    );\n  }\n\n  submitForm(): void {\n    this.products = [];\n    const title = this.searchProductForm.get('title')!.value;\n    this.adminService.getAllProductsByName(title).subscribe(\n      (res) => {\n        res.forEach(element => {\n          element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n          this.products.push(element);\n        });\n        console.log(this.products);\n      },\n      (error) => {\n        console.error('Error searching products:', error);\n        // Handle error, display error message, etc.\n      }\n    );\n  }\n\n  deleteProduct(productId: any) {\n    this.adminService.deleteProduct(productId).subscribe(\n      (res) => {      \n        if (res.status === 200) {\n          this.snackBar.open('Product deleted successfully!', 'Close', {\n            duration: 5000\n          });\n          // Redirect to the product page\n          this.router.navigateByUrl('/admin/product');\n        } else {\n          this.snackBar.open('Failed to delete product', 'ERROR', {\n            duration: 5000,\n            panelClass: 'error-snackbar'\n          });\n        }\n      },\n      (error) => {\n        console.error('Error deleting product:', error);\n        this.snackBar.open('An error occurred while deleting the product', 'ERROR', {\n          duration: 5000,\n          panelClass: 'error-snackbar'\n        });\n      }\n    );\n  }\n  \n  }\n      \n    \n  \n\n","<form [formGroup]=\"searchProductForm\" class=\"search-form\" (submit)=\"submitForm()\">\n    <mat-form-field appearance=\"outline\" class=\"search-input\">\n        <mat-label>Type a keyword to search </mat-label>\n        <input matInput formControlName=\"title\">\n        \n\n        <button mat-button matSuffix color=\"primary\" [disabled]=\"searchProductForm.invalid\">\n            <mat-icon>search</mat-icon>\n        </button>\n    </mat-form-field>\n</form>\n\n\n<div class=\"product-list\">   \n\n \n    <mat-card class=\"product-card\" *ngFor=\"let product of products\">\n    <div class=\"product-image\">\n        <img [src]=\"product.processedImg\" alt=\"product-image\">\n    </div>\n\n    <div class=\"product-details\">\n        <h2 class=\"product-name\">{{ product.name }}</h2>\n        <p class=\"product-description\">{{ product.description}}</p>\n\n        <mat-divider></mat-divider>\n        <div class=\"product-info\">\n            <div class=\"info-row\">\n                <span class=\"info-label\">Price:</span>\n                <span class=\"info-value\"> Ksh {{ product.price }}</span>\n            </div>\n\n            <div class=\"info-row\">\n                <span class=\"info-label\">Category:</span>\n                <span class=\"info-value\">{{ product.categoryName }}</span>\n            </div>\n        </div>\n\n        <mat-divider></mat-divider>\n        <div class=\"actions\">\n            <button mat-raised-button color=\"primary\" class=\"update-button\"\n            [routerLink]=\"'/admin/faq/' + product.id\">FAQ</button>\n\n            <button mat-raised-button color=\"accent\" class=\"update-button\"\n            [routerLink]=\"'/admin/product/' + product.id\">Update</button>            \n\n            <button mat-raised-button color=\"warn\" class=\"delete-button\" (click)=\"deleteProduct(product.id)\">\n                Delete\n            </button>\n        \n        </div>\n    </div>\n    </mat-card>\n\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}