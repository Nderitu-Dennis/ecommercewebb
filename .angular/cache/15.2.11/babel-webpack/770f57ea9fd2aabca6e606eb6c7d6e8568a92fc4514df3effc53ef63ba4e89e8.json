{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/customer.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/divider\";\nfunction DashboardComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 3);\n    i0.ɵɵlistener(\"submit\", function DashboardComponent_form_0_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.submitForm());\n    });\n    i0.ɵɵelementStart(1, \"mat-form-field\", 4)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Type a keyword to search \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 5);\n    i0.ɵɵelementStart(5, \"button\", 6)(6, \"mat-icon\");\n    i0.ɵɵtext(7, \"search\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.searchProductForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.searchProductForm.invalid);\n  }\n}\nfunction DashboardComponent_mat_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 7)(1, \"div\", 8);\n    i0.ɵɵelement(2, \"img\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 10)(4, \"h2\", 11);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 12);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"mat-divider\");\n    i0.ɵɵelementStart(9, \"div\", 13)(10, \"div\", 14)(11, \"span\", 15);\n    i0.ɵɵtext(12, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 16);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 14)(16, \"span\", 15);\n    i0.ɵɵtext(17, \"Category:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 16);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(20, \"mat-divider\");\n    i0.ɵɵelementStart(21, \"div\", 17)(22, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_mat_card_2_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const product_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.addToCart(product_r4.id));\n    });\n    i0.ɵɵtext(23, \" Add to cart \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", product_r4.processedImg, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.description);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" Ksh \", product_r4.price, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(product_r4.categoryName);\n  }\n}\nexport class DashboardComponent {\n  constructor(customerService, fb, snackBar) {\n    this.customerService = customerService;\n    this.fb = fb;\n    this.snackBar = snackBar;\n    this.products = [];\n  }\n  ngOnInit() {\n    this.getAllProducts();\n    this.searchProductForm = this.fb.group({\n      title: [null, [Validators.required]]\n    });\n  }\n  getAllProducts() {\n    this.products = [];\n    this.customerService.getAllProducts().subscribe(res => {\n      res.forEach(element => {\n        element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n        this.products.push(element);\n      });\n    });\n  }\n  submitForm() {\n    this.products = [];\n    const title = this.searchProductForm.get('title').value;\n    this.customerService.getAllProductsByName(title).subscribe(res => {\n      res.forEach(element => {\n        element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n        this.products.push(element);\n      });\n      console.log(this.products);\n    });\n  }\n  addToCart(id) {\n    this.customerService.addToCart(id).subscribe(res => {\n      this.snackBar.open(\"product added to cart successfully\", \"Close\", {\n        duration: 5000\n      });\n    });\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.CustomerService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[\"class\", \"search-form\", 3, \"formGroup\", \"submit\", 4, \"ngIf\"], [1, \"product-list\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"search-form\", 3, \"formGroup\", \"submit\"], [\"appearance\", \"outline\", 1, \"search-input\"], [\"matInput\", \"\", \"formControlName\", \"title\"], [\"mat-button\", \"\", \"matSuffix\", \"\", \"color\", \"primary\", 3, \"disabled\"], [1, \"product-card\"], [1, \"product-image\"], [\"alt\", \"product-image\", 3, \"src\"], [1, \"product-details\"], [1, \"product-name\"], [1, \"product-description\"], [1, \"product-info\"], [1, \"info-row\"], [1, \"info-label\"], [1, \"info-value\"], [1, \"actions\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"update-button\", 3, \"click\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, DashboardComponent_form_0_Template, 8, 2, \"form\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, DashboardComponent_mat_card_2_Template, 24, 5, \"mat-card\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.searchProductForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i5.MatButton, i6.MatCard, i7.MatFormField, i7.MatLabel, i7.MatSuffix, i8.MatInput, i9.MatIcon, i10.MatDivider],\n    styles: [\".search-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin-top: 20px;\\n}\\n.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%] {\\n  width: 300px;\\n  margin-right: 15px;\\n}\\n.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  padding-right: 40px;\\n  \\n}\\n.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 8px;\\n  \\n  top: 50%;\\n  transform: translateY(-50%); \\n}\\n\\n.product-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  background-color: #f8f8f8;\\n  min-height: 70vh;\\n  padding: 20px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%] {\\n  width: calc(33.33% - 20px); \\n  margin-bottom: 20px;\\n  border-radius: 10px;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2); \\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%] {\\n  height: 200px;\\n  border-radius: 10px 10px 0 0;\\n  overflow: hidden;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-weight: bold;\\n  color: #108ee9;\\n  margin-bottom: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin-bottom: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%] {\\n  flex: 0 0 50%;\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 8px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%] {\\n  font-weight: 10px;\\n  margin-right: 5px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-top: 10px;\\n}\\n.product-list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.empty-cart[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  height: 300px;\\n  \\n}\\n.empty-cart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  color: #616161; \\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY3VzdG9tZXIvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtBQUNKO0FBQ0k7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7QUFDUjtBQUNRO0VBQ0ksbUJBQUE7RUFDQSw0Q0FBQTtBQUNaO0FBRVE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSx1Q0FBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQSxFQUFBLGdCQUFBO0FBQVo7O0FBTUE7RUFDSSxhQUFBO0VBQ0EsZUFBQTtFQUNBLDhCQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7QUFISjtBQUtJO0VBQ0ksMEJBQUEsRUFBQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQSxFQUFBLGdCQUFBO0FBSFI7QUFLUTtFQUNJLGFBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0FBSFo7QUFLWTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUFIaEI7QUFRUTtFQUNJLGFBQUE7QUFOWjtBQVFZO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FBTmhCO0FBV1k7RUFDSSxtQkFBQTtBQVRoQjtBQVlZO0VBQ0ksYUFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQVZoQjtBQVlnQjtFQUNJLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQVZwQjtBQVlvQjtFQUNJLGlCQUFBO0VBQ0EsaUJBQUE7QUFWeEI7QUFhb0I7RUFDSSxpQkFBQTtBQVh4QjtBQWtCWTtFQUNJLGFBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0FBaEJoQjtBQWtCZ0I7RUFDSSxrQkFBQTtBQWhCcEI7O0FBdUJBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7RUFDQSwrQkFBQTtBQXBCSjtBQXNCSTtFQUNJLGVBQUE7RUFDQSxjQUFBLEVBQUEsK0JBQUE7RUFDQSxnQkFBQTtBQXBCUiIsInNvdXJjZXNDb250ZW50IjpbIi5zZWFyY2gtZm9ybXtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcblxuICAgIC5zZWFyY2gtaW5wdXQge1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTVweDtcblxuICAgICAgICBpbnB1dCB7XG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA0MHB4O1xuICAgICAgICAgICAgLyphZGp1c3QgcGFkZGluZyB0byBjcmVhdGUgc3BhY2UgZnJvIGJ1dHRvbiovXG4gICAgICAgIH1cblxuICAgICAgICBidXR0b257XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICByaWdodDogOHB4O1xuICAgICAgICAgICAgLyphZGp1c3QgIGJ1dHRvbidzIHBvc2l0aW9uIGFzIGRlc2lyZWQqL1xuICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IC8qcmVzZWFyY2ggdGhpcyovXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLnByb2R1Y3QtbGlzdHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcbiAgICBtaW4taGVpZ2h0Ojcwdmg7XG4gICAgcGFkZGluZzogMjBweDsgXG5cbiAgICAucHJvZHVjdC1jYXJke1xuICAgICAgICB3aWR0aDogY2FsYygzMy4zMyUgLSAyMHB4KTsgLypyZXNlYXJjaCB0aGlzKi9cbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKTsgLypyZXNlYXJjaCB0aGlzKi9cblxuICAgICAgICAucHJvZHVjdC1pbWFnZXtcbiAgICAgICAgICAgIGhlaWdodDogMjAwcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwO1xuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAgICAgICAgICAgaW1nIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLnByb2R1Y3QtZGV0YWlsc3tcbiAgICAgICAgICAgIHBhZGRpbmc6MjBweDtcblxuICAgICAgICAgICAgLnByb2R1Y3QtbmFtZXtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6ICAyMHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjMTA4ZWU5O1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAucHJvZHVjdC1kZXNjcmlwdGlvbntcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAucHJvZHVjdC1pbmZve1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cbiAgICAgICAgICAgICAgICAuaW5mby1yb3d7XG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDAgMCA1MCU7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcblxuICAgICAgICAgICAgICAgICAgICAuaW5mby1sYWJlbCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogMTBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLmluZm8tdmFsdWV7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmFjdGlvbnN7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG5cbiAgICAgICAgICAgICAgICAudXBkYXRlLWJ1dHRvbntcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gICAgICBcbn1cblxuLmVtcHR5LWNhcnR7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAzMDBweDtcbiAgICAvKiBjYW4gYWRqdXN0IHRvIGZpdCBteSBkZXNpZ24qL1xuXG4gICAgc3BhbntcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBjb2xvcjogIzYxNjE2MTsgIC8qIGNhbiBhZGp1c3QgdG8gZml0IG15IGRlc2lnbiovXG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgIFxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","DashboardComponent","constructor","customerService","fb","snackBar","ngOnInit","getAllProducts","searchProductForm","group","title","required","products","subscribe","res","forEach","element","processedImg","byteImg","push","submitForm","get","value","getAllProductsByName","console","log","addToCart","id","open","duration","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/denniskali/Desktop/ecommercewebb/src/app/customer/components/dashboard/dashboard.component.ts","/home/denniskali/Desktop/ecommercewebb/src/app/customer/components/dashboard/dashboard.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { CustomerService } from '../../services/customer.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent {\n\n  products: any[] = [];\n  searchProductForm!: FormGroup; // Initialize searchProductForm as a FormGroup\n  \n  constructor(private customerService: CustomerService, \n    private fb: FormBuilder,\n    private snackBar: MatSnackBar,\n    ){}\n\n  ngOnInit(){\n    this.getAllProducts();\n    this.searchProductForm = this.fb.group({\n      title: [null, [Validators.required]]\n    });\n  }\n\n  getAllProducts(){\n    this.products = [];\n    this.customerService.getAllProducts().subscribe(res =>{\n      res.forEach(element =>{\n        element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n        this.products.push(element);\n      });\n    });\n  }\n\n  submitForm(){\n    this.products = [];\n    const title = this.searchProductForm.get('title')!.value;\n    this.customerService.getAllProductsByName(title).subscribe(res =>{\n      res.forEach(element =>{\n        element.processedImg = 'data:image/jpeg;base64,' + element.byteImg;\n        this.products.push(element);\n      });\n      console.log(this.products);\n    });\n  }\n\n  addToCart(id:any){\n    this.customerService.addToCart(id).subscribe(res =>{\n      this.snackBar.open(\"product added to cart successfully\", \"Close\", {duration: 5000})\n    })\n  }\n}\n","<form *ngIf=\"searchProductForm\" [formGroup]=\"searchProductForm\" class=\"search-form\" (submit)=\"submitForm()\">\n    <mat-form-field appearance=\"outline\" class=\"search-input\">\n        <mat-label>Type a keyword to search </mat-label>\n        <input matInput formControlName=\"title\">\n        \n        <button mat-button matSuffix color=\"primary\" [disabled]=\"searchProductForm.invalid\">\n            <mat-icon>search</mat-icon>\n        </button>\n    </mat-form-field>\n</form>\n\n<div class=\"product-list\">   \n    <mat-card class=\"product-card\" *ngFor=\"let product of products\">\n        <div class=\"product-image\">\n            <img [src]=\"product.processedImg\" alt=\"product-image\">\n        </div>\n\n        <div class=\"product-details\">\n            <h2 class=\"product-name\">{{ product.name }}</h2>\n            <p class=\"product-description\">{{ product.description}}</p>\n\n            <mat-divider></mat-divider>\n            <div class=\"product-info\">\n                <div class=\"info-row\">\n                    <span class=\"info-label\">Price:</span>\n                    <span class=\"info-value\"> Ksh {{ product.price }}</span>\n                </div>\n\n                <div class=\"info-row\">\n                    <span class=\"info-label\">Category:</span>\n                    <span class=\"info-value\">{{ product.categoryName }}</span>\n                </div>\n            </div>\n\n            <mat-divider></mat-divider>\n            <div class=\"actions\">\n                <button mat-raised-button color=\"primary\" class=\"update-button\" (click)=\"addToCart(product.id)\">\n                    Add to cart\n                </button>\n            </div>\n        </div>\n    </mat-card>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}